% ?- ciutats([2,2,1,3], [3,1,3,2], [3,1,2,2], [2,3,1,2], [F1,F2,F3,F4]).

ciutats(CL, CR, FH, FL, L) :-  L = [F1, F2, F3, F4],  columnaLeft(CL, L), columnaRight(CR, L), filaHigh(FH, L), filaLow(FL, L).

columnaLeft([A, B, C, D], L1) :- A = 1, L1 = [[4, _, _, _], _, _, _],
                            B = 1, L1 = [_, [4, _, _, _], _, _],
                            C = 1, L1 = [_, _, [4, _, _, _], _],
                            D = 1, L1 = [_, _, _, [4, _, _, _]].

columnaRight([A, B, C, D], L2) :- A = 1, L2 = [[_ , _, _, 4], _, _, _],
                            B = 1, L2 = [_, [_ , _, _, 4], _, _],
                            C = 1, L2 = [_, _, [_ , _, _, 4], _],
                            D = 1, L2 = [_, _, _, [_ , _, _, 4]].

filaHigh([A, B, C, D], L3) :- A = 1, L3 = [[4, _, _, _], _, _, _],
                            B = 1, L3 = [[_, 4, _, _], _, _, _],
                            C = 1, L3 = [[_, _, 4, _], _, _, _],
                            D = 1, L3 = [[_, _, _, 4], _, _, _].

filaLow([A, B, C, D], L4) :- A = 1, L4 = [_, _, _, [4, _, _, _]],
                          B = 1, L4 = [_, _, _, [_, 4, _, _]],
                          C = 1, L4 = [_, _, _, [_, _, 4, _]],
                          D = 1, L4 = [_, _, _, [_, _, _, 4]].